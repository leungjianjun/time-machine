[16:41:51:951][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.Picture
[16:41:51:951][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.User
[16:41:51:952][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.User
[16:41:51:952][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.User
[16:41:51:953][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.Category
[16:41:51:953][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.User
[16:41:51:954][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.User
[16:41:51:954][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.PictureMeta
[16:41:51:954][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.Album
[16:41:51:955][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.User
[16:41:51:955][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.Picture
[16:41:51:956][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.Role
[16:41:51:956][org.hibernate.cfg.Configuration-secondPassCompileForeignKeys] -resolving reference to class: cn.edu.nju.software.timemachine.entity.UserMeta
[16:41:51:957][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:958][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:959][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:960][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:961][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:962][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:963][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:964][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:965][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:966][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:968][org.hibernate.validator.ClassValidator-getDefaultResourceBundle] -ResourceBundle ValidatorMessages not found in Validator classloader. Delegate to org.hibernate.validator.resources.DefaultValidatorMessages
[16:41:51:973][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -Running hbm2ddl schema export
[16:41:51:974][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -import file not found: /import.sql
[16:41:51:975][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -exporting generated schema to database
[16:41:51:977][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Album drop foreign key FK3C68E4F37A18841
[16:41:52:096][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Album drop foreign key FK3C68E4FBA3A1152
[16:41:52:153][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Category drop foreign key FK6DD211EBA3A1152
[16:41:52:201][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Friend drop foreign key FK7DEAF6BE4E53613A
[16:41:52:255][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Friend drop foreign key FK7DEAF6BED0BA405A
[16:41:52:300][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Message drop foreign key FK9C2397E79F1C24C6
[16:41:52:346][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Message drop foreign key FK9C2397E79E8F39BC
[16:41:52:391][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Picture drop foreign key FK40C8F4DEB8272F9A
[16:41:52:437][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Picture drop foreign key FK40C8F4DEE62A8BFA
[16:41:52:482][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table SimpleComment drop foreign key FKE66D982D87651D23
[16:41:52:530][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table SimpleComment drop foreign key FKE66D982DEF50259A
[16:41:52:585][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table User drop foreign key FK285FEBA9289D5A
[16:41:52:631][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table User drop foreign key FK285FEB25E39B3A
[16:41:52:676][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists Album
[16:41:52:677][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists AlbumMeta
[16:41:52:679][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists Category
[16:41:52:681][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists Friend
[16:41:52:683][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists Message
[16:41:52:685][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists Picture
[16:41:52:687][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists PictureMeta
[16:41:52:689][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists Role
[16:41:52:691][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists SimpleComment
[16:41:52:692][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists User
[16:41:52:694][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -drop table if exists UserMeta
[16:41:52:696][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table Album (id bigint not null auto_increment, dateCreated datetime, version integer, customDate datetime, name varchar(255), cover_id bigint, owner_id bigint, primary key (id))
[16:41:52:744][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table AlbumMeta (id bigint not null auto_increment, dateCreated datetime, version integer, primary key (id))
[16:41:52:801][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table Category (id bigint not null auto_increment, dateCreated datetime, version integer, name varchar(255), owner_id bigint, primary key (id))
[16:41:52:847][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table Friend (id bigint not null auto_increment, dateCreated datetime, version integer, nikename varchar(255), category_id bigint, user_id bigint unique, primary key (id))
[16:41:52:892][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table Message (id bigint not null auto_increment, dateCreated datetime, version integer, content varchar(255), isRead bit not null, inviter_id bigint, invitor_id bigint, primary key (id))
[16:41:52:937][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table Picture (id bigint not null auto_increment, dateCreated datetime, version integer, customDate datetime, pictureType varchar(255), album_id bigint, pictureMeta_id bigint, primary key (id))
[16:41:52:982][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table PictureMeta (id bigint not null auto_increment, dateCreated datetime, version integer, description varchar(255), primary key (id))
[16:41:53:027][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table Role (id bigint not null auto_increment, dateCreated datetime, version integer, name varchar(255), primary key (id))
[16:41:53:074][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table SimpleComment (id bigint not null auto_increment, dateCreated datetime, version integer, type varchar(255), commentor_id bigint, picture_id bigint, primary key (id))
[16:41:53:120][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table User (id bigint not null auto_increment, dateCreated datetime, version integer, email varchar(255), name varchar(255), password varchar(255), role_id bigint, userMeta_id bigint, primary key (id))
[16:41:53:165][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -create table UserMeta (id bigint not null auto_increment, dateCreated datetime, version integer, birthday datetime, city varchar(255), country varchar(255), otherStuff varchar(255), primary key (id))
[16:41:53:210][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Album add index FK3C68E4F37A18841 (cover_id), add constraint FK3C68E4F37A18841 foreign key (cover_id) references Picture (id)
[16:41:53:267][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Album add index FK3C68E4FBA3A1152 (owner_id), add constraint FK3C68E4FBA3A1152 foreign key (owner_id) references User (id)
[16:41:53:312][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Category add index FK6DD211EBA3A1152 (owner_id), add constraint FK6DD211EBA3A1152 foreign key (owner_id) references User (id)
[16:41:53:359][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Friend add index FK7DEAF6BE4E53613A (user_id), add constraint FK7DEAF6BE4E53613A foreign key (user_id) references User (id)
[16:41:53:404][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Friend add index FK7DEAF6BED0BA405A (category_id), add constraint FK7DEAF6BED0BA405A foreign key (category_id) references Category (id)
[16:41:53:449][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Message add index FK9C2397E79F1C24C6 (invitor_id), add constraint FK9C2397E79F1C24C6 foreign key (invitor_id) references User (id)
[16:41:53:495][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Message add index FK9C2397E79E8F39BC (inviter_id), add constraint FK9C2397E79E8F39BC foreign key (inviter_id) references User (id)
[16:41:53:540][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Picture add index FK40C8F4DEB8272F9A (pictureMeta_id), add constraint FK40C8F4DEB8272F9A foreign key (pictureMeta_id) references PictureMeta (id)
[16:41:53:585][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table Picture add index FK40C8F4DEE62A8BFA (album_id), add constraint FK40C8F4DEE62A8BFA foreign key (album_id) references Album (id)
[16:41:53:632][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table SimpleComment add index FKE66D982D87651D23 (commentor_id), add constraint FKE66D982D87651D23 foreign key (commentor_id) references User (id)
[16:41:53:678][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table SimpleComment add index FKE66D982DEF50259A (picture_id), add constraint FKE66D982DEF50259A foreign key (picture_id) references Picture (id)
[16:41:53:779][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table User add index FK285FEBA9289D5A (role_id), add constraint FK285FEBA9289D5A foreign key (role_id) references Role (id)
[16:41:53:825][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -alter table User add index FK285FEB25E39B3A (userMeta_id), add constraint FK285FEB25E39B3A foreign key (userMeta_id) references UserMeta (id)
[16:41:53:870][org.hibernate.tool.hbm2ddl.SchemaExport-execute] -schema export complete
[16:41:53:874][org.hibernate.impl.SessionFactoryImpl-checkNamedQueries] -Checking 0 named HQL queries
[16:41:53:875][org.hibernate.impl.SessionFactoryImpl-checkNamedQueries] -Checking 0 named SQL queries
[16:41:53:878][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:53:879][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:53:900][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'sessionFactory'
[16:41:53:900][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:53:901][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:53:946][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor-registerDependentBeans] -Autowiring by type from bean name 'dao' to bean named 'sessionFactory'
[16:41:53:949][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-invokeInitMethods] -Invoking afterPropertiesSet() on bean with name 'dao'
[16:41:53:950][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:53:951][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:53:961][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'dao'
[16:41:53:962][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor-registerDependentBeans] -Autowiring by type from bean name 'categoryService' to bean named 'dao'
[16:41:53:962][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:53:962][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:53:967][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-getSingleton] -Creating shared instance of singleton bean 'txAdvice'
[16:41:53:967][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean 'txAdvice'
[16:41:53:968][org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator-isInfrastructureClass] -Did not attempt to auto-proxy infrastructure class [org.springframework.transaction.interceptor.TransactionInterceptor]
[16:41:53:970][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-doCreateBean] -Eagerly caching bean 'txAdvice' to allow for resolving potential circular references
[16:41:53:970][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [org.springframework.transaction.interceptor.TransactionInterceptor]
[16:41:53:974][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [org.springframework.transaction.interceptor.TransactionInterceptor]
[16:41:53:975][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'beanFactory' of type [org.springframework.beans.factory.BeanFactory]
[16:41:53:975][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:53:976][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'transactionAttributeSource' of type [org.springframework.transaction.interceptor.TransactionAttributeSource]
[16:41:53:976][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'transactionAttributeSources' of type [[Lorg.springframework.transaction.interceptor.TransactionAttributeSource;]
[16:41:53:976][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'transactionAttributes' of type [java.util.Properties]
[16:41:53:977][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'transactionManager' of type [org.springframework.transaction.PlatformTransactionManager]
[16:41:53:977][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'transactionManagerBeanName' of type [java.lang.String]
[16:41:53:982][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-getSingleton] -Creating shared instance of singleton bean 'transactionManager'
[16:41:53:982][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean 'transactionManager'
[16:41:53:983][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:53:991][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-doCreateBean] -Eagerly caching bean 'transactionManager' to allow for resolving potential circular references
[16:41:53:992][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [org.springframework.orm.hibernate3.HibernateTransactionManager]
[16:41:53:997][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [org.springframework.orm.hibernate3.HibernateTransactionManager]
[16:41:53:997][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'autodetectDataSource' of type [boolean]
[16:41:53:998][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'beanFactory' of type [org.springframework.beans.factory.BeanFactory]
[16:41:53:998][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:53:999][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'dataSource' of type [javax.sql.DataSource]
[16:41:53:999][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'defaultTimeout' of type [int]
[16:41:54:000][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'earlyFlushBeforeCommit' of type [boolean]
[16:41:54:000][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'entityInterceptor' of type [org.hibernate.Interceptor]
[16:41:54:000][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'entityInterceptorBeanName' of type [java.lang.String]
[16:41:54:001][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'failEarlyOnGlobalRollbackOnly' of type [boolean]
[16:41:54:001][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'globalRollbackOnParticipationFailure' of type [boolean]
[16:41:54:001][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'hibernateManagedSession' of type [boolean]
[16:41:54:002][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'jdbcExceptionTranslator' of type [org.springframework.jdbc.support.SQLExceptionTranslator]
[16:41:54:002][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'nestedTransactionAllowed' of type [boolean]
[16:41:54:003][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'prepareConnection' of type [boolean]
[16:41:54:003][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'resourceFactory' of type [java.lang.Object]
[16:41:54:004][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'rollbackOnCommitFailure' of type [boolean]
[16:41:54:004][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'sessionFactory' of type [org.hibernate.SessionFactory]
[16:41:54:004][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'transactionSynchronization' of type [int]
[16:41:54:005][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'transactionSynchronizationName' of type [java.lang.String]
[16:41:54:005][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'validateExistingTransaction' of type [boolean]
[16:41:54:006][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'sessionFactory'
[16:41:54:007][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-invokeInitMethods] -Invoking afterPropertiesSet() on bean with name 'transactionManager'
[16:41:54:015][org.springframework.orm.hibernate3.HibernateTransactionManager-afterPropertiesSet] -Using DataSource [org.apache.commons.dbcp.BasicDataSource@ccd21c] of Hibernate SessionFactory for HibernateTransactionManager
[16:41:54:016][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:016][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:028][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'transactionManager'
[16:41:54:029][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean '(inner bean)'
[16:41:54:030][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:031][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [org.springframework.transaction.interceptor.NameMatchTransactionAttributeSource]
[16:41:54:033][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [org.springframework.transaction.interceptor.NameMatchTransactionAttributeSource]
[16:41:54:034][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:54:034][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'nameMap' of type [java.util.Map]
[16:41:54:035][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'properties' of type [java.util.Properties]
[16:41:54:037][org.springframework.transaction.interceptor.NameMatchTransactionAttributeSource-addTransactionalMethod] -Adding transactional method [find*] with attribute [PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly]
[16:41:54:038][org.springframework.transaction.interceptor.NameMatchTransactionAttributeSource-addTransactionalMethod] -Adding transactional method [add*] with attribute [PROPAGATION_REQUIRED,ISOLATION_DEFAULT]
[16:41:54:038][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:039][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:041][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean '(inner bean)'
[16:41:54:042][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-invokeInitMethods] -Invoking afterPropertiesSet() on bean with name 'txAdvice'
[16:41:54:042][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'txAdvice'
[16:41:54:053][org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator-buildAdvisors] -Creating implicit proxy for bean 'categoryService' with 0 common interceptors and 2 specific interceptors
[16:41:54:054][org.springframework.aop.framework.JdkDynamicAopProxy-getProxy] -Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [cn.edu.nju.software.timemachine.service.impl.CategoryServiceImpl@151ac10]
[16:41:54:060][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'categoryService'
[16:41:54:060][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-getSingleton] -Creating shared instance of singleton bean 'pictureService'
[16:41:54:060][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean 'pictureService'
[16:41:54:061][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:061][org.springframework.beans.factory.annotation.InjectionMetadata-<init>] -Found injected element on class [cn.edu.nju.software.timemachine.service.impl.PictureServiceImpl]: AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:062][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-doCreateBean] -Eagerly caching bean 'pictureService' to allow for resolving potential circular references
[16:41:54:062][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [cn.edu.nju.software.timemachine.service.impl.PictureServiceImpl]
[16:41:54:065][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [cn.edu.nju.software.timemachine.service.impl.PictureServiceImpl]
[16:41:54:066][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:54:066][org.springframework.beans.factory.annotation.InjectionMetadata-inject] -Processing injected method of bean 'pictureService': AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:067][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'dao'
[16:41:54:067][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor-registerDependentBeans] -Autowiring by type from bean name 'pictureService' to bean named 'dao'
[16:41:54:068][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:068][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:069][org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator-buildAdvisors] -Creating implicit proxy for bean 'pictureService' with 0 common interceptors and 2 specific interceptors
[16:41:54:069][org.springframework.aop.framework.JdkDynamicAopProxy-getProxy] -Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [cn.edu.nju.software.timemachine.service.impl.PictureServiceImpl@e771f3]
[16:41:54:074][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'pictureService'
[16:41:54:074][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-getSingleton] -Creating shared instance of singleton bean 'commentService'
[16:41:54:074][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean 'commentService'
[16:41:54:075][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:076][org.springframework.beans.factory.annotation.InjectionMetadata-<init>] -Found injected element on class [cn.edu.nju.software.timemachine.service.impl.CommentServiceImpl]: AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:076][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-doCreateBean] -Eagerly caching bean 'commentService' to allow for resolving potential circular references
[16:41:54:076][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [cn.edu.nju.software.timemachine.service.impl.CommentServiceImpl]
[16:41:54:079][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [cn.edu.nju.software.timemachine.service.impl.CommentServiceImpl]
[16:41:54:079][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:54:080][org.springframework.beans.factory.annotation.InjectionMetadata-inject] -Processing injected method of bean 'commentService': AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:081][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'dao'
[16:41:54:081][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor-registerDependentBeans] -Autowiring by type from bean name 'commentService' to bean named 'dao'
[16:41:54:081][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:082][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:082][org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator-buildAdvisors] -Creating implicit proxy for bean 'commentService' with 0 common interceptors and 2 specific interceptors
[16:41:54:083][org.springframework.aop.framework.JdkDynamicAopProxy-getProxy] -Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [cn.edu.nju.software.timemachine.service.impl.CommentServiceImpl@53a9d5]
[16:41:54:089][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'commentService'
[16:41:54:090][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-getSingleton] -Creating shared instance of singleton bean 'friendService'
[16:41:54:090][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean 'friendService'
[16:41:54:090][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:091][org.springframework.beans.factory.annotation.InjectionMetadata-<init>] -Found injected element on class [cn.edu.nju.software.timemachine.service.impl.FriendServiceImpl]: AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:092][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-doCreateBean] -Eagerly caching bean 'friendService' to allow for resolving potential circular references
[16:41:54:092][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [cn.edu.nju.software.timemachine.service.impl.FriendServiceImpl]
[16:41:54:095][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [cn.edu.nju.software.timemachine.service.impl.FriendServiceImpl]
[16:41:54:095][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:54:096][org.springframework.beans.factory.annotation.InjectionMetadata-inject] -Processing injected method of bean 'friendService': AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:097][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'dao'
[16:41:54:097][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor-registerDependentBeans] -Autowiring by type from bean name 'friendService' to bean named 'dao'
[16:41:54:097][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:098][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:098][org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator-buildAdvisors] -Creating implicit proxy for bean 'friendService' with 0 common interceptors and 2 specific interceptors
[16:41:54:099][org.springframework.aop.framework.JdkDynamicAopProxy-getProxy] -Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [cn.edu.nju.software.timemachine.service.impl.FriendServiceImpl@996b65]
[16:41:54:104][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'friendService'
[16:41:54:104][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-getSingleton] -Creating shared instance of singleton bean 'baseService'
[16:41:54:104][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean 'baseService'
[16:41:54:104][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:105][org.springframework.beans.factory.annotation.InjectionMetadata-<init>] -Found injected element on class [cn.edu.nju.software.timemachine.service.impl.ServiceImpl]: AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:106][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-doCreateBean] -Eagerly caching bean 'baseService' to allow for resolving potential circular references
[16:41:54:106][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [cn.edu.nju.software.timemachine.service.impl.ServiceImpl]
[16:41:54:109][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [cn.edu.nju.software.timemachine.service.impl.ServiceImpl]
[16:41:54:109][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:54:109][org.springframework.beans.factory.annotation.InjectionMetadata-inject] -Processing injected method of bean 'baseService': AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:110][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'dao'
[16:41:54:110][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor-registerDependentBeans] -Autowiring by type from bean name 'baseService' to bean named 'dao'
[16:41:54:111][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:111][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:112][org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator-buildAdvisors] -Creating implicit proxy for bean 'baseService' with 0 common interceptors and 2 specific interceptors
[16:41:54:112][org.springframework.aop.framework.JdkDynamicAopProxy-getProxy] -Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [cn.edu.nju.software.timemachine.service.impl.ServiceImpl@13c4c09]
[16:41:54:118][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'baseService'
[16:41:54:118][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-getSingleton] -Creating shared instance of singleton bean 'messageService'
[16:41:54:118][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean 'messageService'
[16:41:54:119][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:119][org.springframework.beans.factory.annotation.InjectionMetadata-<init>] -Found injected element on class [cn.edu.nju.software.timemachine.service.impl.MessageService]: AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:120][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-doCreateBean] -Eagerly caching bean 'messageService' to allow for resolving potential circular references
[16:41:54:120][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [cn.edu.nju.software.timemachine.service.impl.MessageService]
[16:41:54:123][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [cn.edu.nju.software.timemachine.service.impl.MessageService]
[16:41:54:123][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:54:124][org.springframework.beans.factory.annotation.InjectionMetadata-inject] -Processing injected method of bean 'messageService': AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:125][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'dao'
[16:41:54:125][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor-registerDependentBeans] -Autowiring by type from bean name 'messageService' to bean named 'dao'
[16:41:54:125][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:126][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:126][org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator-buildAdvisors] -Creating implicit proxy for bean 'messageService' with 0 common interceptors and 2 specific interceptors
[16:41:54:127][org.springframework.aop.framework.JdkDynamicAopProxy-getProxy] -Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [cn.edu.nju.software.timemachine.service.impl.MessageService@1798928]
[16:41:54:133][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'messageService'
[16:41:54:133][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-getSingleton] -Creating shared instance of singleton bean 'albumService'
[16:41:54:134][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean 'albumService'
[16:41:54:134][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:135][org.springframework.beans.factory.annotation.InjectionMetadata-<init>] -Found injected element on class [cn.edu.nju.software.timemachine.service.impl.AlbumServiceImp]: AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:136][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-doCreateBean] -Eagerly caching bean 'albumService' to allow for resolving potential circular references
[16:41:54:136][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [cn.edu.nju.software.timemachine.service.impl.AlbumServiceImp]
[16:41:54:141][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [cn.edu.nju.software.timemachine.service.impl.AlbumServiceImp]
[16:41:54:142][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:54:143][org.springframework.beans.factory.annotation.InjectionMetadata-inject] -Processing injected method of bean 'albumService': AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:143][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'dao'
[16:41:54:144][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor-registerDependentBeans] -Autowiring by type from bean name 'albumService' to bean named 'dao'
[16:41:54:144][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:144][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:145][org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator-buildAdvisors] -Creating implicit proxy for bean 'albumService' with 0 common interceptors and 2 specific interceptors
[16:41:54:146][org.springframework.aop.framework.JdkDynamicAopProxy-getProxy] -Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [cn.edu.nju.software.timemachine.service.impl.AlbumServiceImp@79ac92]
[16:41:54:150][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'albumService'
[16:41:54:150][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-getSingleton] -Creating shared instance of singleton bean 'userService'
[16:41:54:150][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean 'userService'
[16:41:54:151][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:152][org.springframework.beans.factory.annotation.InjectionMetadata-<init>] -Found injected element on class [cn.edu.nju.software.timemachine.service.impl.UserServiceImpl]: AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:152][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-doCreateBean] -Eagerly caching bean 'userService' to allow for resolving potential circular references
[16:41:54:152][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [cn.edu.nju.software.timemachine.service.impl.UserServiceImpl]
[16:41:54:155][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [cn.edu.nju.software.timemachine.service.impl.UserServiceImpl]
[16:41:54:156][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:54:156][org.springframework.beans.factory.annotation.InjectionMetadata-inject] -Processing injected method of bean 'userService': AutowiredFieldElement for protected cn.edu.nju.software.timemachine.dao.IDao cn.edu.nju.software.timemachine.service.impl.ServiceImpl.dao
[16:41:54:157][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'dao'
[16:41:54:157][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor-registerDependentBeans] -Autowiring by type from bean name 'userService' to bean named 'dao'
[16:41:54:158][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:158][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:159][org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator-buildAdvisors] -Creating implicit proxy for bean 'userService' with 0 common interceptors and 2 specific interceptors
[16:41:54:159][org.springframework.aop.framework.JdkDynamicAopProxy-getProxy] -Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [cn.edu.nju.software.timemachine.service.impl.UserServiceImpl@8d5aad]
[16:41:54:164][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'userService'
[16:41:54:164][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'dao'
[16:41:54:164][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'dataSource'
[16:41:54:164][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'sessionFactory'
[16:41:54:165][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-getSingleton] -Creating shared instance of singleton bean 'hibernateTemplate'
[16:41:54:165][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Creating instance of bean 'hibernateTemplate'
[16:41:54:166][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:170][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-doCreateBean] -Eagerly caching bean 'hibernateTemplate' to allow for resolving potential circular references
[16:41:54:170][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [org.springframework.orm.hibernate3.HibernateTemplate]
[16:41:54:175][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [org.springframework.orm.hibernate3.HibernateTemplate]
[16:41:54:175][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'allowCreate' of type [boolean]
[16:41:54:175][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'alwaysUseNewSession' of type [boolean]
[16:41:54:176][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'beanFactory' of type [org.springframework.beans.factory.BeanFactory]
[16:41:54:177][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'cacheQueries' of type [boolean]
[16:41:54:177][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'checkWriteOperations' of type [boolean]
[16:41:54:177][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:54:177][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'entityInterceptor' of type [org.hibernate.Interceptor]
[16:41:54:178][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'entityInterceptorBeanName' of type [java.lang.String]
[16:41:54:178][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'exposeNativeSession' of type [boolean]
[16:41:54:178][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'fetchSize' of type [int]
[16:41:54:179][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'filterName' of type [java.lang.String]
[16:41:54:179][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'filterNames' of type [[Ljava.lang.String;]
[16:41:54:179][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'flushMode' of type [int]
[16:41:54:179][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'flushModeName' of type [java.lang.String]
[16:41:54:180][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'jdbcExceptionTranslator' of type [org.springframework.jdbc.support.SQLExceptionTranslator]
[16:41:54:180][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'maxResults' of type [int]
[16:41:54:180][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'queryCacheRegion' of type [java.lang.String]
[16:41:54:181][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'sessionFactory' of type [org.hibernate.SessionFactory]
[16:41:54:181][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'sessionFactory'
[16:41:54:182][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-invokeInitMethods] -Invoking afterPropertiesSet() on bean with name 'hibernateTemplate'
[16:41:54:182][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:182][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:230][org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory-createBean] -Finished creating instance of bean 'hibernateTemplate'
[16:41:54:231][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'transactionManager'
[16:41:54:231][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'txAdvice'
[16:41:54:231][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
[16:41:54:231][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:233][org.springframework.context.support.AbstractApplicationContext-initLifecycleProcessor] -Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@5e9f1]
[16:41:54:234][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'lifecycleProcessor'
[16:41:54:235][org.springframework.context.support.AbstractApplicationContext-publishEvent] -Publishing event in org.springframework.context.support.GenericApplicationContext@1f297e7: org.springframework.context.event.ContextRefreshedEvent[source=org.springframework.context.support.GenericApplicationContext@1f297e7: startup date [Fri Mar 18 16:41:49 CST 2011]; root of context hierarchy]
[16:41:54:236][org.springframework.beans.CachedIntrospectionResults-<init>] -Getting BeanInfo for class [cn.edu.nju.software.timemachine.test.service.UserServiceTest]
[16:41:54:238][org.springframework.beans.CachedIntrospectionResults-<init>] -Caching PropertyDescriptors for class [cn.edu.nju.software.timemachine.test.service.UserServiceTest]
[16:41:54:238][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'class' of type [java.lang.Class]
[16:41:54:238][org.springframework.beans.CachedIntrospectionResults-<init>] -Found bean property 'userSerivce' of type [cn.edu.nju.software.timemachine.service.IUserService]
[16:41:54:240][org.springframework.beans.factory.annotation.InjectionMetadata-<init>] -Found injected element on class [cn.edu.nju.software.timemachine.test.service.UserServiceTest]: AutowiredFieldElement for private cn.edu.nju.software.timemachine.service.IUserService cn.edu.nju.software.timemachine.test.service.UserServiceTest.userService
[16:41:54:240][org.springframework.beans.factory.annotation.InjectionMetadata-inject] -Processing injected method of bean 'cn.edu.nju.software.timemachine.test.service.UserServiceTest': AutowiredFieldElement for private cn.edu.nju.software.timemachine.service.IUserService cn.edu.nju.software.timemachine.test.service.UserServiceTest.userService
[16:41:54:240][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'userService'
[16:41:54:241][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor-registerDependentBeans] -Autowiring by type from bean name 'cn.edu.nju.software.timemachine.test.service.UserServiceTest' to bean named 'userService'
[16:41:54:241][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:241][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0'
[16:41:54:254][org.springframework.transaction.support.AbstractPlatformTransactionManager-getTransaction] -Creating new transaction with name [cn.edu.nju.software.timemachine.service.IService.add]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
[16:41:54:277][org.hibernate.impl.SessionImpl-<init>] -opened session at timestamp: 13004377142
[16:41:54:278][org.springframework.orm.hibernate3.HibernateTransactionManager-doBegin] -Opened new Session [org.hibernate.impl.SessionImpl@8fa0d1] for Hibernate transaction
[16:41:54:280][org.springframework.orm.hibernate3.HibernateTransactionManager-doBegin] -Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@8fa0d1]
[16:41:54:295][org.hibernate.transaction.JDBCTransaction-begin] -begin
[16:41:54:295][org.hibernate.jdbc.ConnectionManager-openConnection] -opening JDBC connection
[16:41:54:296][org.hibernate.transaction.JDBCTransaction-begin] -current autocommit status: true
[16:41:54:296][org.hibernate.transaction.JDBCTransaction-begin] -disabling autocommit
[16:41:54:298][org.springframework.orm.hibernate3.HibernateTransactionManager-doBegin] -Exposing Hibernate transaction as JDBC transaction [org.apache.commons.dbcp.PoolableConnection@1f18cbe]
[16:41:54:299][org.springframework.transaction.support.TransactionSynchronizationManager-bindResource] -Bound value [org.springframework.jdbc.datasource.ConnectionHolder@14f1726] for key [org.apache.commons.dbcp.BasicDataSource@ccd21c] to thread [main]
[16:41:54:299][org.springframework.transaction.support.TransactionSynchronizationManager-bindResource] -Bound value [org.springframework.orm.hibernate3.SessionHolder@1b0de2e] for key [org.hibernate.impl.SessionFactoryImpl@178c490] to thread [main]
[16:41:54:300][org.springframework.transaction.support.TransactionSynchronizationManager-initSynchronization] -Initializing transaction synchronization
[16:41:54:300][org.springframework.transaction.interceptor.TransactionAspectSupport-prepareTransactionInfo] -Getting transaction for [cn.edu.nju.software.timemachine.service.IService.add]
[16:41:54:301][org.springframework.transaction.support.TransactionSynchronizationManager-getResource] -Retrieved value [org.springframework.orm.hibernate3.SessionHolder@1b0de2e] for key [org.hibernate.impl.SessionFactoryImpl@178c490] bound to thread [main]
[16:41:54:301][org.springframework.transaction.support.TransactionSynchronizationManager-getResource] -Retrieved value [org.springframework.orm.hibernate3.SessionHolder@1b0de2e] for key [org.hibernate.impl.SessionFactoryImpl@178c490] bound to thread [main]
[16:41:54:302][org.springframework.orm.hibernate3.HibernateTemplate-doExecute] -Found thread-bound Session for HibernateTemplate
[16:41:54:313][org.hibernate.event.def.AbstractSaveEventListener-performSaveOrReplicate] -executing identity-insert immediately
[16:41:54:315][org.hibernate.jdbc.AbstractBatcher-logOpenPreparedStatement] -about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
[16:41:54:316][org.hibernate.jdbc.util.SQLStatementLogger-logStatement] -insert into Role (dateCreated, version, name) values (?, ?, ?)
[16:41:54:332][org.hibernate.id.IdentifierGeneratorFactory-getGeneratedIdentity] -Natively generated identity: 1
[16:41:54:333][org.hibernate.jdbc.AbstractBatcher-logClosePreparedStatement] -about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
[16:41:54:335][org.hibernate.event.def.AbstractSaveEventListener-performSaveOrReplicate] -executing identity-insert immediately
[16:41:54:336][org.hibernate.jdbc.AbstractBatcher-logOpenPreparedStatement] -about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
[16:41:54:336][org.hibernate.jdbc.util.SQLStatementLogger-logStatement] -insert into UserMeta (dateCreated, version, birthday, city, country, otherStuff) values (?, ?, ?, ?, ?, ?)
[16:41:54:345][org.hibernate.id.IdentifierGeneratorFactory-getGeneratedIdentity] -Natively generated identity: 1
[16:41:54:346][org.hibernate.jdbc.AbstractBatcher-logClosePreparedStatement] -about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
[16:41:54:346][org.hibernate.event.def.AbstractSaveEventListener-performSaveOrReplicate] -executing identity-insert immediately
[16:41:54:347][org.hibernate.jdbc.AbstractBatcher-logOpenPreparedStatement] -about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
[16:41:54:347][org.hibernate.jdbc.util.SQLStatementLogger-logStatement] -insert into User (dateCreated, version, email, name, password, role_id, userMeta_id) values (?, ?, ?, ?, ?, ?, ?)
[16:41:54:348][org.hibernate.id.IdentifierGeneratorFactory-getGeneratedIdentity] -Natively generated identity: 1
[16:41:54:349][org.hibernate.jdbc.AbstractBatcher-logClosePreparedStatement] -about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
[16:41:54:349][org.springframework.orm.hibernate3.HibernateTemplate-doExecute] -Not closing pre-bound Hibernate Session after HibernateTemplate
[16:41:54:350][org.springframework.transaction.interceptor.TransactionAspectSupport-commitTransactionAfterReturning] -Completing transaction for [cn.edu.nju.software.timemachine.service.IService.add]
[16:41:54:350][org.springframework.transaction.support.AbstractPlatformTransactionManager-triggerBeforeCommit] -Triggering beforeCommit synchronization
[16:41:54:350][org.springframework.transaction.support.AbstractPlatformTransactionManager-triggerBeforeCompletion] -Triggering beforeCompletion synchronization
[16:41:54:350][org.springframework.transaction.support.AbstractPlatformTransactionManager-processCommit] -Initiating transaction commit
[16:41:54:351][org.springframework.orm.hibernate3.HibernateTransactionManager-doCommit] -Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@8fa0d1]
[16:41:54:351][org.hibernate.transaction.JDBCTransaction-commit] -commit
[16:41:54:352][org.hibernate.event.def.AbstractFlushingEventListener-prepareEntityFlushes] -processing flush-time cascades
[16:41:54:353][org.hibernate.event.def.AbstractFlushingEventListener-prepareCollectionFlushes] -dirty checking collections
[16:41:54:364][org.hibernate.engine.Collections-processReachableCollection] -Collection found: [cn.edu.nju.software.timemachine.entity.User.albumList#1], was: [<unreferenced>] (initialized)
[16:41:54:365][org.hibernate.engine.Collections-processReachableCollection] -Collection found: [cn.edu.nju.software.timemachine.entity.User.categoryList#1], was: [<unreferenced>] (initialized)
[16:41:54:365][org.hibernate.engine.Collections-processReachableCollection] -Collection found: [cn.edu.nju.software.timemachine.entity.Role.userList#1], was: [<unreferenced>] (initialized)
[16:41:54:367][org.hibernate.event.def.AbstractFlushingEventListener-flushEverythingToExecutions] -Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
[16:41:54:367][org.hibernate.event.def.AbstractFlushingEventListener-flushEverythingToExecutions] -Flushed: 3 (re)creations, 0 updates, 0 removals to 3 collections
[16:41:54:368][org.hibernate.pretty.Printer-toString] -listing entities:
[16:41:54:369][org.hibernate.pretty.Printer-toString] -cn.edu.nju.software.timemachine.entity.Role{id=1, name=null, dateCreated=null, userList=[], version=0}
[16:41:54:370][org.hibernate.pretty.Printer-toString] -cn.edu.nju.software.timemachine.entity.UserMeta{id=1, birthday=2000-01-01 16:41:54, otherStuff=null, dateCreated=null, user=null, country=null, city=nanjing, version=0}
[16:41:54:370][org.hibernate.pretty.Printer-toString] -cn.edu.nju.software.timemachine.entity.User{id=1, email=a@gmail.com, categoryList=[], name=ljj, userMeta=cn.edu.nju.software.timemachine.entity.UserMeta#1, role=cn.edu.nju.software.timemachine.entity.Role#1, dateCreated=null, password=123456, albumList=[], version=0}
[16:41:54:372][org.hibernate.transaction.JDBCTransaction-toggleAutoCommit] -re-enabling autocommit
[16:41:54:372][org.hibernate.transaction.JDBCTransaction-commit] -committed JDBC Connection
[16:41:54:373][org.hibernate.jdbc.ConnectionManager-afterTransaction] -transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
[16:41:54:373][org.springframework.transaction.support.AbstractPlatformTransactionManager-triggerAfterCommit] -Triggering afterCommit synchronization
[16:41:54:373][org.springframework.transaction.support.AbstractPlatformTransactionManager-triggerAfterCompletion] -Triggering afterCompletion synchronization
[16:41:54:373][org.springframework.transaction.support.TransactionSynchronizationManager-clearSynchronization] -Clearing transaction synchronization
[16:41:54:374][org.springframework.transaction.support.TransactionSynchronizationManager-doUnbindResource] -Removed value [org.springframework.orm.hibernate3.SessionHolder@1b0de2e] for key [org.hibernate.impl.SessionFactoryImpl@178c490] from thread [main]
[16:41:54:374][org.springframework.transaction.support.TransactionSynchronizationManager-doUnbindResource] -Removed value [org.springframework.jdbc.datasource.ConnectionHolder@14f1726] for key [org.apache.commons.dbcp.BasicDataSource@ccd21c] from thread [main]
[16:41:54:374][org.springframework.orm.hibernate3.HibernateTransactionManager-doCleanupAfterCompletion] -Closing Hibernate Session [org.hibernate.impl.SessionImpl@8fa0d1] after transaction
[16:41:54:375][org.springframework.orm.hibernate3.SessionFactoryUtils-closeSession] -Closing Hibernate Session
[16:41:54:375][org.hibernate.jdbc.ConnectionManager-closeConnection] -releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
[16:41:54:376][org.hibernate.jdbc.ConnectionManager-afterTransaction] -transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
[16:41:54:378][org.springframework.test.context.TestContextManager-prepareTestInstance] -prepareTestInstance(): instance [cn.edu.nju.software.timemachine.test.service.UserServiceTest@29f93b]
[16:41:54:378][org.springframework.test.context.support.DependencyInjectionTestExecutionListener-prepareTestInstance] -Performing dependency injection for test context [[TestContext@1bf3d87 testClass = UserServiceTest, locations = array<String>['classpath:applicationContext.xml'], testInstance = cn.edu.nju.software.timemachine.test.service.UserServiceTest@29f93b, testMethod = [null], testException = [null]]].
[16:41:54:379][org.springframework.beans.factory.annotation.InjectionMetadata-inject] -Processing injected method of bean 'cn.edu.nju.software.timemachine.test.service.UserServiceTest': AutowiredFieldElement for private cn.edu.nju.software.timemachine.service.IUserService cn.edu.nju.software.timemachine.test.service.UserServiceTest.userService
[16:41:54:379][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'userService'
[16:41:54:380][org.springframework.transaction.interceptor.TransactionAspectSupport-prepareTransactionInfo] -Don't need to create transaction for [cn.edu.nju.software.timemachine.service.IUserService.getUser]: This method isn't transactional.
[16:41:54:380][org.springframework.orm.hibernate3.SessionFactoryUtils-doGetSession] -Opening Hibernate Session
[16:41:54:380][org.hibernate.impl.SessionImpl-<init>] -opened session at timestamp: 13004377143
[16:41:54:424][org.hibernate.hql.ast.QueryTranslatorImpl-parse] -parse() - HQL: from cn.edu.nju.software.timemachine.entity.User as user where user.email= :email and user.password = :password
[16:41:54:447][org.hibernate.hql.ast.QueryTranslatorImpl-showHqlAst] ---- HQL AST ---
 \-[QUERY] 'query'
    +-[SELECT_FROM] 'SELECT_FROM'
    |  \-[FROM] 'from'
    |     \-[RANGE] 'RANGE'
    |        +-[DOT] '.'
    |        |  +-[DOT] '.'
    |        |  |  +-[DOT] '.'
    |        |  |  |  +-[DOT] '.'
    |        |  |  |  |  +-[DOT] '.'
    |        |  |  |  |  |  +-[DOT] '.'
    |        |  |  |  |  |  |  +-[IDENT] 'cn'
    |        |  |  |  |  |  |  \-[IDENT] 'edu'
    |        |  |  |  |  |  \-[IDENT] 'nju'
    |        |  |  |  |  \-[IDENT] 'software'
    |        |  |  |  \-[IDENT] 'timemachine'
    |        |  |  \-[IDENT] 'entity'
    |        |  \-[IDENT] 'User'
    |        \-[ALIAS] 'user'
    \-[WHERE] 'where'
       \-[AND] 'and'
          +-[EQ] '='
          |  +-[DOT] '.'
          |  |  +-[IDENT] 'user'
          |  |  \-[IDENT] 'email'
          |  \-[COLON] ':'
          |     \-[IDENT] 'email'
          \-[EQ] '='
             +-[DOT] '.'
             |  +-[IDENT] 'user'
             |  \-[IDENT] 'password'
             \-[COLON] ':'
                \-[IDENT] 'password'

[16:41:54:448][org.hibernate.hql.ast.ErrorCounter-throwQueryException] -throwQueryException() : no errors
[16:41:54:490][org.hibernate.hql.antlr.HqlSqlBaseWalker-beforeStatement] -select << begin [level=1, statement=select]
[16:41:54:506][org.hibernate.hql.ast.tree.FromElement-doInitialize] -FromClause{level=1} :  cn.edu.nju.software.timemachine.entity.User (user) -> user0_
[16:41:54:508][org.hibernate.hql.ast.tree.FromReferenceNode-setResolved] -Resolved :  user -> user0_.id
[16:41:54:510][org.hibernate.hql.ast.tree.DotNode-getDataType] -getDataType() : email -> org.hibernate.type.StringType@721965
[16:41:54:512][org.hibernate.hql.ast.tree.FromReferenceNode-setResolved] -Resolved :  user.email -> user0_.email
[16:41:54:515][org.hibernate.hql.ast.tree.FromReferenceNode-setResolved] -Resolved :  user -> user0_.id
[16:41:54:515][org.hibernate.hql.ast.tree.DotNode-getDataType] -getDataType() : password -> org.hibernate.type.StringType@721965
[16:41:54:516][org.hibernate.hql.ast.tree.FromReferenceNode-setResolved] -Resolved :  user.password -> user0_.password
[16:41:54:516][org.hibernate.hql.antlr.HqlSqlBaseWalker-beforeStatementCompletion] -select : finishing up [level=1, statement=select]
[16:41:54:517][org.hibernate.hql.ast.HqlSqlWalker-processQuery] -processQuery() :  ( SELECT ( FromClause{level=1} User user0_ ) ( where ( and ( = ( user0_.email user0_.id email ) ? ) ( = ( user0_.password user0_.id password ) ? ) ) ) )
[16:41:54:524][org.hibernate.hql.ast.HqlSqlWalker-createSelectClauseFromFromClause] -Derived SELECT clause created.
[16:41:54:530][org.hibernate.hql.ast.util.JoinProcessor-addJoinNodes] -Using FROM fragment [User user0_]
[16:41:54:530][org.hibernate.hql.antlr.HqlSqlBaseWalker-afterStatementCompletion] -select >> end [level=1, statement=select]
[16:41:54:533][org.hibernate.hql.ast.QueryTranslatorImpl-analyze] ---- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (User)
    +-[SELECT_CLAUSE] SelectClause: '{derived select clause}'
    |  +-[SELECT_EXPR] SelectExpressionImpl: 'user0_.id as id5_' {FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=user,role=null,tableName=User,tableAlias=user0_,origin=null,colums={,className=cn.edu.nju.software.timemachine.entity.User}}}
    |  \-[SQL_TOKEN] SqlFragment: 'user0_.dateCreated as dateCrea2_5_, user0_.version as version5_, user0_.email as email5_, user0_.name as name5_, user0_.password as password5_, user0_.role_id as role7_5_, user0_.userMeta_id as userMeta8_5_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[user], fromElementByTableAlias=[user0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'User user0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=user,role=null,tableName=User,tableAlias=user0_,origin=null,colums={,className=cn.edu.nju.software.timemachine.entity.User}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[EQ] BinaryLogicOperatorNode: '='
          |  +-[DOT] DotNode: 'user0_.email' {propertyName=email,dereferenceType=4,propertyPath=email,path=user.email,tableAlias=user0_,className=cn.edu.nju.software.timemachine.entity.User,classAlias=user}
          |  |  +-[ALIAS_REF] IdentNode: 'user0_.id' {alias=user, className=cn.edu.nju.software.timemachine.entity.User, tableAlias=user0_}
          |  |  \-[IDENT] IdentNode: 'email' {originalText=email}
          |  \-[NAMED_PARAM] ParameterNode: '?' {name=email, expectedType=org.hibernate.type.StringType@721965}
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'user0_.password' {propertyName=password,dereferenceType=4,propertyPath=password,path=user.password,tableAlias=user0_,className=cn.edu.nju.software.timemachine.entity.User,classAlias=user}
             |  +-[ALIAS_REF] IdentNode: 'user0_.id' {alias=user, className=cn.edu.nju.software.timemachine.entity.User, tableAlias=user0_}
             |  \-[IDENT] IdentNode: 'password' {originalText=password}
             \-[NAMED_PARAM] ParameterNode: '?' {name=password, expectedType=org.hibernate.type.StringType@721965}

[16:41:54:533][org.hibernate.hql.ast.ErrorCounter-throwQueryException] -throwQueryException() : no errors
[16:41:54:543][org.hibernate.hql.ast.QueryTranslatorImpl-generate] -HQL: from cn.edu.nju.software.timemachine.entity.User as user where user.email= :email and user.password = :password
[16:41:54:543][org.hibernate.hql.ast.QueryTranslatorImpl-generate] -SQL: select user0_.id as id5_, user0_.dateCreated as dateCrea2_5_, user0_.version as version5_, user0_.email as email5_, user0_.name as name5_, user0_.password as password5_, user0_.role_id as role7_5_, user0_.userMeta_id as userMeta8_5_ from User user0_ where user0_.email=? and user0_.password=?
[16:41:54:543][org.hibernate.hql.ast.ErrorCounter-throwQueryException] -throwQueryException() : no errors
[16:41:54:558][org.hibernate.jdbc.AbstractBatcher-logOpenPreparedStatement] -about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
[16:41:54:558][org.hibernate.jdbc.ConnectionManager-openConnection] -opening JDBC connection
[16:41:54:559][org.hibernate.jdbc.util.SQLStatementLogger-logStatement] -select user0_.id as id5_, user0_.dateCreated as dateCrea2_5_, user0_.version as version5_, user0_.email as email5_, user0_.name as name5_, user0_.password as password5_, user0_.role_id as role7_5_, user0_.userMeta_id as userMeta8_5_ from User user0_ where user0_.email=? and user0_.password=?
[16:41:54:565][org.hibernate.jdbc.AbstractBatcher-logOpenResults] -about to open ResultSet (open ResultSets: 0, globally: 0)
[16:41:54:567][org.hibernate.loader.Loader-getRow] -result row: EntityKey[cn.edu.nju.software.timemachine.entity.User#1]
[16:41:54:569][org.hibernate.jdbc.AbstractBatcher-logCloseResults] -about to close ResultSet (open ResultSets: 1, globally: 1)
[16:41:54:570][org.hibernate.jdbc.AbstractBatcher-logClosePreparedStatement] -about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
[16:41:54:571][org.hibernate.engine.TwoPhaseLoad-initializeEntity] -resolving associations for [cn.edu.nju.software.timemachine.entity.User#1]
[16:41:54:575][org.hibernate.engine.TwoPhaseLoad-initializeEntity] -done materializing entity [cn.edu.nju.software.timemachine.entity.User#1]
[16:41:54:575][org.hibernate.engine.StatefulPersistenceContext-initializeNonLazyCollections] -initializing non-lazy collections
[16:41:54:575][org.hibernate.jdbc.ConnectionManager-afterTransaction] -transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
[16:41:54:578][org.springframework.context.support.AbstractApplicationContext-doClose] -Closing org.springframework.context.support.GenericApplicationContext@1f297e7: startup date [Fri Mar 18 16:41:49 CST 2011]; root of context hierarchy
[16:41:54:583][org.springframework.context.support.AbstractApplicationContext-publishEvent] -Publishing event in org.springframework.context.support.GenericApplicationContext@1f297e7: org.springframework.context.event.ContextClosedEvent[source=org.springframework.context.support.GenericApplicationContext@1f297e7: startup date [Fri Mar 18 16:41:49 CST 2011]; root of context hierarchy]
[16:41:54:584][org.springframework.beans.factory.support.AbstractBeanFactory-doGetBean] -Returning cached instance of singleton bean 'lifecycleProcessor'
[16:41:54:584][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-destroySingletons] -Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@402af3: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,sampleAction,categoryService,pictureService,commentService,friendService,baseService,messageService,albumService,userService,dao,dataSource,sessionFactory,hibernateTemplate,transactionManager,txAdvice,org.springframework.aop.config.internalAutoProxyCreator,myPointcut,org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0]; root of factory hierarchy
[16:41:54:588][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-destroyBean] -Retrieved dependent beans for bean 'userService': [cn.edu.nju.software.timemachine.test.service.UserServiceTest]
[16:41:54:588][org.springframework.beans.factory.support.DefaultSingletonBeanRegistry-destroyBean] -Retrieved dependent beans for bean '(inner bean)': [txAdvice]
[16:41:54:589][org.springframework.beans.factory.support.DisposableBeanAdapter-destroy] -Invoking destroy() on bean with name 'sessionFactory'
[16:41:54:589][org.springframework.orm.hibernate3.AbstractSessionFactoryBean-destroy] -Closing Hibernate SessionFactory
[16:41:54:589][org.hibernate.impl.SessionFactoryImpl-close] -closing
